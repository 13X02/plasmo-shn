var ce=Object.create;var E=Object.defineProperty;var le=Object.getOwnPropertyDescriptor;var fe=Object.getOwnPropertyNames;var ue=Object.getPrototypeOf,de=Object.prototype.hasOwnProperty;var ge=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of fe(r))!de.call(e,i)&&i!==t&&E(e,i,{get:()=>r[i],enumerable:!(o=le(r,i))||o.enumerable});return e};var g=(e,r,t)=>(t=e!=null?ce(ue(e)):{},ge(r||!e||!e.__esModule?E(t,"default",{value:e,enumerable:!0}):t,e));var ne=require("prettier/parser-babel"),se=require("prettier/parser-flow"),pe=require("prettier/parser-typescript");var te=require("@babel/parser"),oe=g(require("@babel/traverse")),ie=require("@babel/types");var w=g(require("@babel/generator")),W=require("@babel/types");var P=require("@babel/types"),F=require("module");var M=`

`,v="unsortable",G="other",h="value",y="type",L="side-effect",T="prettier-ignore",_=[h,y],I="<THIRD_PARTY_MODULES>",k=`^(?:node:)?(?:${F.builtinModules.join("|")})$`,Ie="PRETTIER_PLUGIN_SORT_IMPORTS_NEW_LINE",S=(0,P.expressionStatement)((0,P.stringLiteral)(Ie));var R=e=>e.reduce((r,t)=>(Array.isArray(t.leadingComments)&&t.leadingComments.length>0&&(r=[...r,...t.leadingComments]),r),[]);function Se(e,r){return e[0]<r[0]?-1:e[0]>r[0]?1:0}function he(e){return e[0]!==null&&e[1]!==null&&Number.isSafeInteger(e[0])&&Number.isSafeInteger(e[1])}function ye(e,r){return e[1]>r[0]&&r[1]>e[0]}function Oe(e,r){return[Math.min(e[0],r[0]),Math.max(e[1],r[1])]}function Ne(e){let r=[];for(let t of e){let o=r[r.length-1];o!==void 0&&ye(o,t)?r[r.length-1]=Oe(o,t):r.push(t)}return r}function Pe(e,r){if(e.length===0)return e;let t=[],o=(s,m)=>m>s,i=e[0];o(0,i[0])&&t.push([0,i[0]]);for(let s=0;s<e.length-1;s+=1){let m=e[s],p=e[s+1],a=m[1],l=p[0];o(a,l)&&t.push([a,l])}let n=e[e.length-1];return o(n[1],r)&&t.push([n[1],r]),t}var A=(e,r)=>{let t=r.map(n=>[n.start,n.end]).filter(he).sort(Se),o=Ne(t);return Pe(o,e.length).map(n=>e.substring(n[0],n[1])).join("")};var B=({nodesToOutput:e,allOriginalImportNodes:r=e,originalCode:t,directives:o,interpreter:i})=>{let n=R(e),s=R(o),m=[...e,...r,...n,...s,...i?[i]:[],...o],p=A(t,m),a=(0,W.file)({type:"Program",body:e,directives:o,sourceType:"module",interpreter:i,sourceFile:"",leadingComments:[],innerComments:[],trailingComments:[],start:0,end:0,loc:{start:{line:0,column:0},end:{line:0,column:0}}}),{code:l}=(0,w.default)(a);return l.replace(/"PRETTIER_PLUGIN_SORT_IMPORTS_NEW_LINE";/gi,M)+p.trim()};var U=e=>e.map(r=>{let t=r.startsWith("["),o;if(t)try{o=JSON.parse(r)}catch{throw Error("Invalid JSON in importOrderParserPlugins: "+r)}else o=r;return o});var O=require("@babel/types"),j=g(require("lodash.clone")),q=g(require("lodash.isequal")),H=(e,r)=>{let t=r.map(j.default),o=e[0].leadingComments;return t.forEach(O.removeComments),t.forEach((i,n)=>{(0,q.default)(e[0].loc,i.loc)||(0,O.addComments)(i,"leading",r[n].leadingComments||[])}),o&&(0,O.addComments)(t[0],"leading",o),t};var b=e=>(e??[]).some(r=>r.value.trim()==="prettier-sort-ignore");var V=e=>{let r=e.specifiers.length===0;return b(e.leadingComments)||r?v:G};var Q=g(require("lodash.clone"));var u=g(require("javascript-natural-sort"));var Y=(e,r)=>{let t=r.map(o=>({group:o,regExp:new RegExp(o)}));for(let{group:o,regExp:i}of t)if(e.source.value.match(i)!==null)return o;return I};var $=e=>(e.specifiers.sort((r,t)=>r.type!==t.type?r.type==="ImportDefaultSpecifier"?-1:1:(0,u.default)(r.local.name,t.local.name)),e);var z=(e,r)=>e.sort((t,o)=>{if(r.importOrderGroupNamespaceSpecifiers){let i=ve(t,o);if(i!==0)return i}return(0,u.default)(t.source.value,o.source.value)});function ve(e,r){let t=e.specifiers.find(i=>i.type==="ImportNamespaceSpecifier")?1:0;return(r.specifiers.find(i=>i.type==="ImportNamespaceSpecifier")?1:0)-t}var X=(e,r)=>{u.default.insensitive=r.importOrderCaseInsensitive;let{importOrder:t}=r,{importOrderSeparation:o,importOrderSortSpecifiers:i,importOrderGroupNamespaceSpecifiers:n,importOrderBuiltinModulesToTop:s}=r,m=e.map(Q.default),p=[];t.includes(I)||(t=[I,...t]),s&&(t=[k,...t]);let a=t.reduce((c,f)=>C(f)?c:{...c,[f]:[]},{}),l=t.filter(c=>!C(c)&&c!==I);for(let c of m){let f=Y(c,l);a[f].push(c)}for(let c of t){if(C(c)){let d=p[p.length-1];if(!d||be(d))continue;p.push(S);continue}let f=a[c];if(f.length===0)continue;let N=z(f,{importOrderGroupNamespaceSpecifiers:n});i&&N.forEach(d=>$(d)),p.push(...N),o&&p.push(S)}return p};function C(e){return e.trim()===""}function be(e){return e.type==="ExpressionStatement"}var Z=e=>b(e.leadingComments)?T:e.specifiers.length===0?L:e.importKind==="type"?y:h;function De(e){return _.includes(e)}function Re(e){return e.reduce((r,t)=>{let o=Z(t);return De(o)&&r[o].push(t),r},{[h]:[],[y]:[]})}function Ce(e){return e.source.value}function J(e){return e.type==="ImportNamespaceSpecifier"}function K(e){return e.type==="ImportDefaultSpecifier"}function xe(e,r){return!(e.specifiers.some(J)||r.specifiers.some(J)||e.specifiers.some(K)&&r.specifiers.some(K))}function Ee(e,r){return xe(e,r)?(e.specifiers.push(...r.specifiers),e.leadingComments=[...e.leadingComments||[],...r.leadingComments||[]],e.innerComments=[...e.innerComments||[],...r.innerComments||[]],e.trailingComments=[...e.trailingComments||[],...r.trailingComments||[]],!0):!1}function Fe({context:e,nodesToDelete:r,insertableNode:t}){let o=Ce(t);e[o]?Ee(e[o],t)&&r.push(t):e[o]=t}var ee=e=>{let r=[];for(let t of Object.values(Re(e))){let o={};for(let i of t)Fe({context:o,nodesToDelete:r,insertableNode:i})}return e.filter(t=>!r.includes(t))};var re=(e,r)=>{let{importOrderSeparation:t,importOrderMergeDuplicateImports:o}=r,i=e.reduce((s,m)=>{let p=V(m),a=s[s.length-1];return a===void 0||a.type!==p?s.push({type:p,nodes:[m]}):a.nodes.push(m),s},[]),n=[];for(let s of i){if(s.type===v)n.push(...s.nodes);else{let m=o?ee(s.nodes):s.nodes,p=X(m,r);n.push(...p)}t&&n.push(S)}return n.length>0&&!t&&n.push(S),H(e,n)};function D(e,r){let{importOrderParserPlugins:t,importOrder:o,importOrderBuiltinModulesToTop:i,importOrderCaseInsensitive:n,importOrderGroupNamespaceSpecifiers:s,importOrderMergeDuplicateImports:m,importOrderSeparation:p,importOrderSortSpecifiers:a}=r,l=[],c={sourceType:"module",plugins:U(t)},f=(0,te.parse)(e,c),N=f.program.directives,d=f.program.interpreter;if((0,oe.default)(f,{ImportDeclaration(x){x.findParent(ae=>(0,ie.isTSModuleDeclaration)(ae))||l.push(x.node)}}),l.length===0)return e;let me=re(l,{importOrder:o,importOrderBuiltinModulesToTop:i,importOrderCaseInsensitive:n,importOrderGroupNamespaceSpecifiers:s,importOrderMergeDuplicateImports:m,importOrderSeparation:p,importOrderSortSpecifiers:a});return B({nodesToOutput:me,allOriginalImportNodes:l,originalCode:e,directives:N,interpreter:d})}var Me={importOrder:{type:"path",category:"Global",array:!0,default:[{value:[]}],description:"Provide an order to sort imports."},importOrderCaseInsensitive:{type:"boolean",category:"Global",default:!1,description:"Provide a case sensitivity boolean flag"},importOrderParserPlugins:{type:"path",category:"Global",array:!0,default:[{value:["typescript","jsx"]}],description:"Provide a list of plugins for special syntax"},importOrderSeparation:{type:"boolean",category:"Global",default:!1,description:"Should imports be separated by new line?"},importOrderGroupNamespaceSpecifiers:{type:"boolean",category:"Global",default:!1,description:"Should namespace specifiers be grouped at the top of their group?"},importOrderSortSpecifiers:{type:"boolean",category:"Global",default:!1,description:"Should specifiers be sorted?"},importOrderBuiltinModulesToTop:{type:"boolean",category:"Global",default:!1,description:"Should node-builtins be hoisted to the top?"},importOrderMergeDuplicateImports:{type:"boolean",category:"Global",default:!1,description:"Should duplicate imports be merged?"}};module.exports={parsers:{babel:{...ne.parsers.babel,preprocess:D},flow:{...se.parsers.flow,preprocess:D},typescript:{...pe.parsers.typescript,preprocess:D}},options:Me};
