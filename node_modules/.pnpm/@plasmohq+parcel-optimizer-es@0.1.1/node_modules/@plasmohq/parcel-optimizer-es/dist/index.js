var A=Object.create;var a=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var C=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,L=Object.prototype.hasOwnProperty;var U=(o,t)=>{for(var e in t)a(o,e,{get:t[e],enumerable:!0})},g=(o,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of C(t))!L.call(o,r)&&r!==e&&a(o,r,{get:()=>t[r],enumerable:!(i=h(t,r))||i.enumerable});return o};var v=(o,t,e)=>(e=o!=null?A(F(o)):{},g(t||!o||!o.__esModule?a(e,"default",{value:o,enumerable:!0}):e,o)),x=o=>g(a({},"__esModule",{value:!0}),o);var E={};U(E,{default:()=>z});module.exports=x(E);var y=require("@parcel/plugin"),O=v(require("@parcel/source-map")),w=require("@parcel/utils"),R=require("esbuild"),S=v(require("nullthrows")),s=require("path"),_=require("terser");function d(o){return o.split("").map(t=>t.charCodeAt(0)<=127?t:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)).join("")}var z=new y.Optimizer({async optimize({contents:o,map:t,bundle:e,options:i,getSourceMapReference:r}){let m=await(0,w.blobToString)(o);if(!e.env.shouldOptimize)return{contents:d(m),map:t};let f=(0,s.relative)(i.projectRoot,(0,s.join)(e.target.distDir,e.name));if(process.env.__PLASMO_FRAMEWORK_INTERNAL_SOURCE_MAPS!=="none"||!e.env.shouldScopeHoist){let p=t?await t.stringify({}):null,j={format:{ascii_only:!0},sourceMap:e.env.sourceMap?{filename:f,asObject:!0,content:p}:!1,toplevel:e.env.outputFormat==="esmodule"||e.env.outputFormat==="commonjs",module:e.env.outputFormat==="esmodule"},u=await(0,_.minify)(m,j),l=(0,S.default)(u.code),n=null,c=u.map;if(c&&typeof c!="string"){n=new O.default(i.projectRoot),n.addVLQMap(c);let M=await r(n);M&&(l+=`
//# sourceMappingURL=${M}
`)}return{contents:l,map:n}}else{let{code:p}=await(0,R.transform)(m,{sourcemap:!1,sourcefile:f,minify:!0,treeShaking:!0,format:"esm"});return{contents:p,map:null}}}});0&&(module.exports={});
